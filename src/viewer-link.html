<link rel="import" href="../bower_components/polymer/polymer-element.html">

<dom-module id="viewer-link">
  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }

      a {
        display: flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        color: inherit;
      }
    </style>

    <a id="link" href$="[[link]]" target="_blank" rel="noopener" on-click="_onClick">[[text]]</a>

  </template>
  <script>
    class ViewerLink extends Polymer.Element {

      static get is() {
        return 'viewer-link';
      }

      static get properties() {
        return {
          name: {
            type: String,
            reflectToAttribute: true
          },
          link: String,
          text: String
        };
      }

      click() {
        this.$.link.click();
      }

      _onClick(e) {
        e.preventDefault();
        this.dispatchEvent(new CustomEvent('link-clicked', {
          detail: {
            url: e.target.getAttribute('href'),
            name: this.name
          },
          bubbles: true,
          cancelable: false,
          composed: true
        }));
      }
    }

    customElements.define(ViewerLink.is, ViewerLink);
  </script>
</dom-module>
